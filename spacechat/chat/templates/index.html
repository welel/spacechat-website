{% extends 'base.html' %}

{% block main %}
<div class="container h-100" style="margin-top: 15rem;">
    <div class="row h-100 justify-content-center align-items-center">
        <div class="col-6 md-4 p-5" style="backgound-color: #0c162d;">
            <p class="text-white fw-bold">Type your nickname:</p>
            <input id="username" class="form-control form-control-sm" type="text">

            <p class="text-white fw-bold">Type a room code:</p>
            <input id="enter-room" class="form-control form-control-sm" type="text">
        </div>
    </div>
</div>

<script>
    document.querySelector('#enter-room').focus();
    document.querySelector('#enter-room').onkeyup = function(e) {
        if (e.keyCode === 13) {
            const username = document.getElementById('username').value;
            document.cookie = 'username=' + encodeURIComponent(username);

            const roomName = document.getElementById('enter-room').value;
            const url = 'http://' + window.location.host + '/chat/' + roomName + '/'
            window.location.href = url;
        }
    };
</script>
{% endblock %}
